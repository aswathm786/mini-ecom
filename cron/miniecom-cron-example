# MiniEcom Cron Jobs Example
# Copy relevant lines to your crontab: crontab -e
# Or install as: sudo crontab -u root /opt/miniecom/cron/miniecom-cron-example

# Set environment variables
SHELL=/bin/bash
PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
PROJECT_ROOT=/opt/miniecom

# Daily backup at 2:00 AM
0 2 * * * cd $PROJECT_ROOT && $PROJECT_ROOT/scripts/backup.sh >> $PROJECT_ROOT/storage/logs/cron.log 2>&1

# Hourly service monitoring
0 * * * * cd $PROJECT_ROOT && $PROJECT_ROOT/scripts/monitor_services.sh >> $PROJECT_ROOT/storage/logs/cron.log 2>&1

# Daily disk space check at 6:00 AM
0 6 * * * cd $PROJECT_ROOT && $PROJECT_ROOT/scripts/disk_alert.sh >> $PROJECT_ROOT/storage/logs/cron.log 2>&1

# Weekly maintenance tasks (Sunday at 3:00 AM)
0 3 * * 0 cd $PROJECT_ROOT && $PROJECT_ROOT/scripts/run_maintenance_tasks.sh >> $PROJECT_ROOT/storage/logs/cron.log 2>&1

# Daily log rotation at 1:00 AM
0 1 * * * cd $PROJECT_ROOT && $PROJECT_ROOT/scripts/logs_collect.sh >> $PROJECT_ROOT/storage/logs/cron.log 2>&1

# Daily backup rotation at 3:00 AM
0 3 * * * cd $PROJECT_ROOT && $PROJECT_ROOT/scripts/rotate_backups.sh >> $PROJECT_ROOT/storage/logs/cron.log 2>&1

# Weekly security audit (Monday at 4:00 AM)
0 4 * * 1 cd $PROJECT_ROOT && $PROJECT_ROOT/scripts/sec_audit.sh >> $PROJECT_ROOT/storage/logs/cron.log 2>&1

# Optional: Push offsite backups daily at 4:00 AM (after backup completes)
# 30 2 * * * cd $PROJECT_ROOT && $PROJECT_ROOT/scripts/push_offsite.sh >> $PROJECT_ROOT/storage/logs/cron.log 2>&1

